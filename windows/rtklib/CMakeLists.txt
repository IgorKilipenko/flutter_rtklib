cmake_minimum_required(VERSION 3.6)

include("${CMAKE_CURRENT_SOURCE_DIR}/../../CMakeLists.txt")

#set(CTARGET -DTRACE -DENAGLO -DENAQZS -DENAGAL -DENACMP -DENAIRN -DNFREQ=5 -DNEXOBS=3 -DFLUTTER_DEBUG -D_USE_32BIT_TIME_T -DWIN32 -DWIN_DLL)
set(CTARGET ${CTARGET_BASE} -DWIN32 -DWIN_DLL)
set(CFLAGS ${CTARGET_BASE})

set(LDLIBS  ws2_32 winmm)

add_library(${PROJECT_NAME} SHARED ${RTKLIB})
target_compile_options(${PROJECT_NAME} PRIVATE ${CFLAGS})
target_compile_definitions(${PROJECT_NAME} PRIVATE ${CTARGET})
target_include_directories(${PROJECT_NAME} PRIVATE
  "${CMAKE_CURRENT_SOURCE_DIR}"
  "${CMAKE_CURRENT_SOURCE_DIR}/${SRC_DIR}"
  "${CMAKE_CURRENT_SOURCE_DIR}/${UTILS_DIR}"
)
target_link_libraries(${PROJECT_NAME} ${LDLIBS})
